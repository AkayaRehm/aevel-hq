# SOP: Marketing Reporting

## Purpose

Produce a marketing-ready report from analytics result: structured payload with title, period, metrics, by_source, and narrative. Narrative may be plain text for email/Sheets. LLM may format narrative from existing payload only; no new metrics or calculations.

## Inputs

- **File**: `.tmp/analytics_result.json` — output of analyze tool.
- **Optional**: Router-provided title or period override (from request payload).

## Outputs

- **File**: `.tmp/report_output.json` — conforming to Report Payload schema (title, period, metrics, by_source, narrative, generated_at).
- **Exit**: 0 on success; non-zero if input missing.

## Edge Cases

- Narrative: may be generated by tool from metrics (e.g. template) or formatted by navigation layer from report_output for display only; LLM must not add or change numeric fields.
- Empty analytics: report still produced with zeros and short narrative (e.g. "No activity in period.").
- Title/period: default from analytics_result; overridable by request options.

## Golden Rule

SOP updated before any change to generate_report.py or router narrative formatting.
