{% extends "base_aevel.html" %}
{% block title %}Flowcharts{% endblock %}
{% block head %}
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
{% endblock %}
{% block content %}
<div class="page-header">
  <h1>Flowcharts</h1>
  <p class="subtitle">Create and view flowcharts (Mermaid) â€” shared with the team</p>
</div>
<section class="section">
  <div class="card">
    <div class="flowcharts-toolbar">
      <button type="button" id="flowchart-new" class="btn btn-primary">New flowchart</button>
    </div>
    <div class="flowcharts-layout">
      <aside class="flowcharts-sidebar">
        <ul id="flowchart-list" class="flowchart-list"></ul>
      </aside>
      <div class="flowcharts-editor-wrap">
        <div id="flowchart-empty" class="flowchart-empty">Select a flowchart or create one.</div>
        <div id="flowchart-editor" class="flowchart-editor hidden">
          <input type="text" id="flowchart-title" class="input flowchart-title-input" placeholder="Flowchart title">
          <div class="flowchart-split">
            <div class="flowchart-source-wrap">
              <label class="label-sm">Mermaid code</label>
              <textarea id="flowchart-mermaid" class="textarea flowchart-mermaid-input" placeholder="graph LR&#10;  A --> B&#10;  B --> C"></textarea>
            </div>
            <div class="flowchart-preview-wrap">
              <label class="label-sm">Preview</label>
              <div id="flowchart-preview" class="flowchart-preview"></div>
            </div>
          </div>
          <div class="flowchart-actions">
            <button type="button" id="flowchart-save" class="btn btn-primary">Save</button>
            <button type="button" id="flowchart-delete" class="btn btn-danger">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
{% block scripts %}
<script src="{{ url_for('static', filename='js/flowcharts.js') }}"></script>
{% endblock %}
